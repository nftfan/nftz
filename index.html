<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://raw.githubusercontent.com/nftfan/MENU/main/grants/FANS%20(1).png" type="image/png">
    <title>NFTFANS 1KT ART</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>

    <!-- Twitter Card metadata -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="NFTFANS 1KT ART">
    <meta name="twitter:description" content="Each 1KT ART NFT comes with 1KT $NFTFAN Tokens.">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/nftfan/MENU/main/grants/1KT.png">
    <meta name="twitter:url" content="https://www.nftfanstoken.com/1kt/">
    
    <style>
       body {
    font-family: 'Roboto', sans-serif;
    background-color: #000;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    overflow-x: hidden;
    min-width: 350px;
}

header {
    width: 100%;
    background-color: #222;
    color: #00ff99; /* Neon green */
    padding: 20px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    border-bottom: 2px solid #00ff99;
}

header h1 {
    font-size: 2em;
    margin: 0;
    text-shadow: 0 0 10px #00ff99; /* Neon glow effect */
    background: linear-gradient(45deg, rgba(0,255,153,0.3), rgba(0,255,153,0.1));
    padding: 10px 20px;
    border-radius: 8px;
}

.header-content {
    margin-top: 10px;
    text-align: center;
}

.wallet-info {
    display: flex;
    flex-direction: column;
    align-items: center;
}

#connectWalletButton {
    display: flex;
    align-items: center;
    background-color: #00ff99; /* Neon green */
    color: #000;
    padding: 15px 35px;
    font-size: 1.1em;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
    position: relative;
    overflow: hidden;
    min-width: 200px;
}

#connectWalletButton img {
    position: absolute;
    left: 10px;
    width: 32px;
    height: 32px;
    border-radius: 8px;
}

#connectWalletButton:hover {
    background-color: #00cc88; /* Slightly darker neon green */
    transform: scale(1.05);
}

#walletAddress {
    font-size: 12px;
    color: #00ff99;
    margin: 5px 0;
    background: rgba(0, 255, 153, 0.2);
    padding: 5px 10px;
    border-radius: 5px;
    box-shadow: 0 0 8px rgba(0, 255, 153, 0.5);
}

footer {
    width: 100%;
    text-align: center;
    background-color: #222;
    color: #00ff99;
    padding: 15px 0;
    margin-top: auto;
    border-top: 2px solid #00ff99;
}

.container {
    background: linear-gradient(45deg, #ff00cc, #00ffff, #ff00cc, #00ffff);
    background-size: 400% 400%;
    animation: gradientShift 5s linear infinite;
    box-shadow: 0 4px 12px rgba(0, 255, 255, 0.2);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    width: 350px;
    margin: 20px;
    box-sizing: border-box;
}

@keyframes gradientShift {
    0% { background-position: 0% 0%; }
    50% { background-position: 100% 100%; }
    100% { background-position: 0% 0%; }
}

h1 {
    font-size: 2em;
    margin-bottom: 10px;
    color: #00ff99;
    text-shadow: 0 0 10px #00ff99;
    background: linear-gradient(45deg, rgba(0,255,153,0.3), rgba(0,255,153,0.1));
    padding: 10px 20px;
    border-radius: 8px;
}

.description {
    font-size: 14px;
    color: #00ffff;
    margin-bottom: 20px;
    background: rgba(0, 255, 255, 0.2);
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
}

#nftImage {
    width: 100%;
    height: auto;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 10px;
    box-shadow: 0 4px 10px rgba(0, 255, 255, 0.3);
}

.mint-section {
    display: flex;
    align-items: center;
    margin-top: 10px;
}

.mint-section label {
    color: #00ffff;
    margin-right: 10px;
}

.mint-section input {
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #00ffff;
    margin-right: 10px;
    max-width: 80px;
    background-color: #111;
    color: #00ffff;
}

#mintButton {
    padding: 12px 25px;
    font-size: 1em;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s, color 0.3s;
    background-color: #00ffff; /* Neon cyan */
    color: #000;
    font-weight: bold;
    flex-grow: 1;
}

#mintButton.enabled {
    background-color: #00ccff;
    color: #000;
}

#mintButton.enabled:hover {
    background-color: #00b3e6;
}

#statusIcons {
    display: none;
    margin-top: 10px;
    text-align: center;
}

#statusIcons img {
    width: 50px;
    height: 50px;
    border-radius: 10%;
    margin: 0 5px;
}

#statusIcons p {
    color: #00ffff;
    font-size: 0.9em;
    margin-top: 5px;
}

#processingIcon, #completedIcon, #errorIcon {
    display: none;
}

.tab-button {
    display: inline-block;
    text-decoration: none;
    color: #00ffff;
    background-color: #111;
    border: 1px solid #00ffff;
    border-radius: 50px;
    padding: 12px 24px;
    font-size: 12px;
    font-weight: bold;
    text-align: center;
    transition: background-color 0.3s, border-color 0.3s, transform 0.2s;
    margin-top: 10px;
}

.tab-button:hover {
    background-color: #00ffff;
    color: #000;
    border-color: #00ffff;
    transform: scale(1.05);
}

.tab-button:active {
    background-color: #00b3e6;
    border-color: #00b3e6;
}


    </style>
</head>
<body>
    <header>
        <h1>NFTFANS Token</h1>
		
        <div class="header-content">
            <div class="wallet-info">
                <button id="connectWalletButton">
                   
                    <strong>Connect Wallet</strong>
                </button>
                <p id="walletAddress">Not connected <br> Switch to Polygon Network in your wallet </p>
				<p class="description">You will get this NFT + 1KT $NFTFAN Tokens! <br> We recommend Metamask wallet. <br> Tokens will show up after 5 min.</p>
				<h1> Price: 1 $MATIC </h1>
                <a href="https://metamask.app.link/dapp/https://www.nftfanstoken.com/1ktd" target="_blank" class="tab-button">Open in MetaMask</a>
            </div>
        </div>
		<div class="mint-section">
            <label for="tokenId">Enter Token ID:</label>
            <input type="number" id="tokenId" placeholder="Token ID">
            <button id="mintButton" disabled>Mint Now</button>
        </div>
	<div id="statusIcons">
            <img id="processingIcon" src="https://raw.githubusercontent.com/nftfan/nftz/main/cloud.gif" alt="Processing">
            <img id="completedIcon" src="https://raw.githubusercontent.com/nftfan/nftz/main/confetti.gif" alt="Completed">
            <img id="errorIcon" src="https://raw.githubusercontent.com/nftfan/nftz/main/no-violence.gif" alt="Error">
            <p id="statusMessage"></p>
        </div>	 
    </header>
    <div class="container">
	    
        <h1>Token ID: 1 </h1>
       
        
        <img id="nftImage" src="https://pbs.twimg.com/media/GWSh6jFWkAARGmN?format=jpg&name=medium" alt="NFT Image">

        

       
    </div>
    
    <footer>
        <p>Â© 2023 NFTFANS - All Rights Reserved</p>
    </footer>

    <script>
    const contractAddress = '0x3e6E1F0e21A6521eE69baceEBA22e7CeCe42eb1c'; 
    const abi = [
        "function buyNFT(uint256 _tokenId, uint256 _amount) external payable",
        "function tokenPrice() external view returns (uint256)"
    ];

    let provider;
    let contract;
    let signer;

    async function connectWallet() {
    if (window.ethereum) {
        try {
            provider = new ethers.providers.Web3Provider(window.ethereum);
            await provider.send('eth_requestAccounts', []);
            signer = provider.getSigner();
            const address = await signer.getAddress();
            
            // Update wallet address display
            document.getElementById('walletAddress').innerText = `Connected: ${address}`;

            // Enable the mint button
            const mintButton = document.getElementById('mintButton');
            mintButton.classList.add('enabled');
            mintButton.disabled = false;

            // Hide status icons initially
            document.getElementById('statusIcons').style.display = 'none';

            // Change button text
            const connectWalletButton = document.getElementById('connectWalletButton');
            connectWalletButton.innerHTML = '<strong>Connected</strong>';
            connectWalletButton.style.backgroundColor = '#238636'; // Change button color

            // Initialize contract
            contract = new ethers.Contract(contractAddress, abi, signer);

        } catch (error) {
            // Improved error logging and handling
            console.error('Error connecting wallet:', error);
            document.getElementById('walletAddress').innerText = 'Failed to connect wallet. Check the console for details.';
            alert('Failed to connect wallet. Check the console for details.');
        }
    } else {
        alert('MetaMask is not installed. Please install MetaMask and try again.');
    }
}



   async function handleMint() {
    const tokenId = parseInt(document.getElementById('tokenId').value, 10);
    const amount = 1; // Assuming you want to mint only 1 NFT per transaction.

    if (isNaN(tokenId) || tokenId <= 0) {
        alert('Please enter a valid Token ID.');
        return;
    }

    try {
        // Show status icons and initial message
        console.log('Showing status icons');
        const statusIcons = document.getElementById('statusIcons');
        statusIcons.style.display = 'block'; 
        document.getElementById('processingIcon').style.display = 'inline'; 
        document.getElementById('completedIcon').style.display = 'none'; 
        document.getElementById('errorIcon').style.display = 'none'; 
        document.getElementById('statusMessage').innerText = 'Processing your transaction...Wait 30s';

        const pricePerToken = await contract.tokenPrice();
        const totalPrice = pricePerToken.mul(amount);

        // Initiate transaction
        const tx = await contract.buyNFT(tokenId, amount, { value: totalPrice });

        // Wait for transaction confirmation
        await tx.wait();  

        // Update status
        console.log('Transaction completed');
        document.getElementById('processingIcon').style.display = 'none'; 
        document.getElementById('completedIcon').style.display = 'inline'; 
        document.getElementById('statusMessage').innerText = 'Transaction successful!';

        // Hide status icons after a short delay
        setTimeout(() => {
            statusIcons.style.display = 'none';
        }, 3000);
    } catch (error) {
        console.error('Transaction error:', error);
        console.log('Transaction failed');
        document.getElementById('processingIcon').style.display = 'none'; 
        document.getElementById('completedIcon').style.display = 'none'; 
        document.getElementById('errorIcon').style.display = 'inline'; 
        document.getElementById('statusMessage').innerText = 'Transaction failed!';
        
        // Hide status icons after a short delay
        setTimeout(() => {
            document.getElementById('statusIcons').style.display = 'none';
        }, 3000);
    }
}




    function init() {
        document.getElementById('connectWalletButton').addEventListener('click', connectWallet);
        document.getElementById('mintButton').addEventListener('click', handleMint);
    }

    init();
</script>

</body>
</html>
